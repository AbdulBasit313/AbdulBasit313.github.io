(function(e){function t(t){for(var n,s,i=t[0],d=t[1],c=t[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,i=1;i<o.length;i++){var d=o[i];0!==a[d]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},a={app:0},r=[];function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=d;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"06c9":function(e,t,o){},"0717":function(e,t,o){},"1f54":function(e,t,o){"use strict";var n=o("6eac"),a=o.n(n);a.a},2390:function(e,t,o){},"30e7":function(e,t,o){"use strict";var n=o("0717"),a=o.n(n);a.a},3470:function(e,t,o){"use strict";var n=o("f7ad"),a=o.n(n);a.a},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],s={name:"app"},i=s,d=o("2877"),c=Object(d["a"])(i,a,r,!1,null,null,null),l=c.exports,u=o("8aa5"),p=o.n(u),f=(o("e71f"),o("9483"));Object(f["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var m={apiKey:"AIzaSyBNmX3lACB2w073FvuOIjXNMZzvwlGNCqM",authDomain:"pwa-todo-list-7018d.firebaseapp.com",databaseURL:"https://pwa-todo-list-7018d.firebaseio.com",projectId:"pwa-todo-list-7018d",storageBucket:"pwa-todo-list-7018d.appspot.com",messagingSenderId:"51264892213",appId:"1:51264892213:web:1c520643af69428f91b07c",measurementId:"G-03ZJ0TSNC3"},v=o("5f5b"),h=(o("7db0"),o("2f62"));n["default"].use(h["a"]);var g=new h["a"].Store({state:{user:{loggedIn:!1,data:null},todos:[],newTodo:"",isEditing:!1,selectedTodo:{}},mutations:{SET_LOGGED_IN:function(e,t){e.user.loggedIn=t},SET_USER:function(e,t){e.user.data=t},ADD_TODO:function(e){console.log("add"),e.isEditing?(e.selectedTodo.title=e.newTodo,p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).collection("todos").doc(e.selectedTodo.id).update({title:e.newTodo}),e.newTodo="",e.isEditing=!1):(p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).collection("todos").add({title:e.newTodo,createdAt:new Date,isCompleted:!1}),e.newTodo="",e.isEditing=!1)},updateTodos:function(e,t){e.newTodo=t},DEL_TODO:function(e,t){p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).collection("todos").doc(t).delete()},EDIT_TODO:function(e,t){var o=e.todos.find((function(e){return e.title==t.title}));e.selectedTodo=o,e.newTodo=e.selectedTodo.title,e.isEditing=!0}},actions:{fetchUser:function(e,t){var o=e.commit;o("SET_LOGGED_IN",null!==t),o("SET_USER",t?{displayName:t.displayName,email:t.email}:null)},addTodo:function(e){var t=e.commit;t("ADD_TODO")},delTodo:function(e,t){var o=e.commit;o("DEL_TODO",t)},editTodo:function(e,t){var o=e.commit;o("EDIT_TODO",t)}},modules:{},getters:{user:function(e){return e.user}}}),b=o("8c4f"),w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app"},[o("Header"),o("div",{staticClass:"dashboard"},[o("div",{staticClass:"title"},[e._v("YOUR LIST")]),o("AddForm",{attrs:{todos:e.todos}}),o("TodoList",{attrs:{todos:e.todos}})],1)],1)},_=[],T=(o("159b"),o("96cf"),o("1da1")),y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("header",{staticClass:"header"},[o("div",[o("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark"}},[o("b-navbar-brand",{attrs:{href:"#"}},[e._v("PWA TODO LIST")]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-navbar-nav",{attrs:{right:""}},[e.isLoggedIn?o("span",{staticClass:"email-style"},[e._v(e._s(e.currentUser))]):e._e(),e.isLoggedIn?o("b-link",{staticClass:"nav-link",attrs:{to:"/"}},[e._v("Dashboard")]):e._e(),e.isLoggedIn?o("b-link",{staticClass:"nav-link",attrs:{to:"/about"}},[e._v("About")]):e._e(),e.isLoggedIn?e._e():o("b-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e._v("Login")]),e.isLoggedIn?e._e():o("b-link",{staticClass:"nav-link",attrs:{to:"/register"}},[e._v("Register")]),e.isLoggedIn?o("button",{staticClass:"btn btn-secondary",on:{click:e.signOut}},[e._v("Signout")]):e._e()],1)],1)],1)],1)],1)])},O=[],C=(o("ac1f"),o("5319"),{name:"Header",data:function(){return{isLoggedIn:!1,currentUser:!1}},created:function(){p.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=p.a.auth().currentUser.email)},methods:{signOut:function(){var e=this;p.a.auth().signOut().then((function(t){console.log("signOut data",t),e.$router.replace({name:"Login"})}))}}}),E=C,L=(o("8c43"),Object(d["a"])(E,y,O,!1,null,"3f255178",null)),k=L.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.todos.length?e._e():o("h6",{staticClass:"text-center mt-3 no-todo"},[e._v("You don't have any todo saved!")]),e._l(e.todos,(function(e){return o("div",{key:e.id},[o("TodoItem",{attrs:{todo:e}})],1)}))],2)},D=[],I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mb-3 mt-3 todo-card"},[o("div",[o("div",{staticClass:"todo"},[e._v(e._s(e.todo.title))])]),o("div",[o("font-awesome-icon",{staticClass:"icons",attrs:{title:"Edit",icon:["far","edit"]},on:{click:function(t){return e.$store.dispatch("editTodo",e.todo)}}}),o("font-awesome-icon",{staticClass:"icons",attrs:{title:"Delete",icon:["far","trash-alt"]},on:{click:function(t){return e.deleteTodo(e.todo.id)}}})],1)])},$=[],A={name:"TodoItem",props:["todo"],methods:{markComplete:function(){this.todo.completed=!this.todo.completed},deleteTodo:function(e){var t=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){o.value&&(t.$store.dispatch("delTodo",e),t.$swal.fire("Deleted!","Your todo has been deleted.","success"))}))}}},j=A,S=(o("1f54"),Object(d["a"])(j,I,$,!1,null,"123bc9f6",null)),P=S.exports,N={name:"TodoList",props:["todos"],components:{TodoItem:P}},U=N,q=(o("30e7"),Object(d["a"])(U,x,D,!1,null,"42a963d9",null)),G=q.exports,H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[e.show?o("b-form",{staticClass:"justify-content-center",attrs:{inline:""},on:{submit:function(t){return t.preventDefault(),e.$store.dispatch("addTodo")}}},[o("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{type:"text",name:"newTodo",id:"inline-form-input-name",placeholder:"Prioritize your day!"},model:{value:e.newTodo,callback:function(t){e.newTodo=t},expression:"newTodo"}}),e.appMode?o("b-button",{staticClass:"add-btn",attrs:{variant:"primary",disabled:e.newTodo.trim().length<=0},on:{click:function(t){return e.$store.dispatch("addTodo")}}},[e._v("Edit")]):o("b-button",{staticClass:"add-btn",attrs:{variant:"primary",disabled:e.newTodo.trim().length<=0},on:{click:function(t){return e.$store.dispatch("addTodo")}}},[e._v("Add")])],1):e._e()],1)])},R=[],B={name:"AddForm",props:["todos"],data:function(){return{show:!0}},computed:{appMode:function(){return this.$store.state.isEditing},newTodo:{get:function(){return this.$store.state.newTodo},set:function(e){this.$store.commit("updateTodos",e)}}}},M=B,F=(o("d38c"),Object(d["a"])(M,H,R,!1,null,"1fe6dad9",null)),Y=F.exports,z={name:"Dashboard",components:{Header:k,AddForm:Y,TodoList:G},computed:{todos:function(){return this.$store.state.todos}},methods:{getTodos:function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(t){var o,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.a.firestore().collection("users").doc(t).collection("todos");case 2:o=e.sent,o.onSnapshot((function(e){n.$store.state.todos=[],e.forEach((function(e){var t={id:e.id,title:e.data().title,isCompleted:e.data().isCompleted};n.$store.state.todos.push(t)}))}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.getTodos(p.a.auth().currentUser.uid)}},J=z,W=(o("3470"),Object(d["a"])(J,w,_,!1,null,"cede6306",null)),X=W.exports,Z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Header"),o("div",{staticClass:"login-page"},[o("div",{staticClass:"form"},[o("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.showLoading?e._e():o("button",[e._v("login")]),e.showLoading?o("div",{staticClass:"spinner"},[o("b-spinner",{attrs:{variant:"light",label:"Spinning"}})],1):e._e(),o("p",{staticClass:"message"},[e._v(" Not registered? "),o("router-link",{attrs:{to:"/register"}},[e._v("Create an account")])],1)])])])],1)},K=[],Q={name:"Login",components:{Header:k},data:function(){return{email:"",password:"",err:"",showLoading:!1}},methods:{login:function(){var e=this;this.showLoading=!0,p.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(){e.$router.replace({name:"Dashboard"})}),(function(t){e.showLoading=!1,alert(t.message)}))}}},V=Q,ee=(o("d3d3"),Object(d["a"])(V,Z,K,!1,null,"4d8e4d79",null)),te=ee.exports,oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Header"),o("div",{staticClass:"register-page"},[o("div",{staticClass:"form"},[o("form",{staticClass:"register-form",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"email address"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.showLoading?e._e():o("button",[e._v("create")]),e.showLoading?o("div",{staticClass:"spinner"},[o("b-spinner",{attrs:{variant:"light",label:"Spinning"}})],1):e._e(),o("p",{staticClass:"message"},[e._v(" Already registered? "),o("router-link",{attrs:{to:"/login"}},[e._v("Sign In")])],1)])])])],1)},ne=[],ae={name:"Register",components:{Header:k},data:function(){return{name:"",email:"",password:"",showLoading:!1}},methods:{register:function(){var e=this;this.showLoading=!0,p.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(){e.$router.replace({name:"Dashboard"})}),(function(t){e.showLoading=!1,alert(t.message),console.log("error",t.message)}))}}},re=ae,se=(o("f86c"),Object(d["a"])(re,oe,ne,!1,null,"2746631d",null)),ie=se.exports,de=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Header"),o("h1",[e._v("This is about page")])],1)},ce=[],le={name:"About",components:{Header:k}},ue=le,pe=Object(d["a"])(ue,de,ce,!1,null,null,null),fe=pe.exports;n["default"].use(b["a"]);var me=new b["a"]({mode:"history",base:"/",routes:[{path:"/login",name:"Login",component:te,meta:{requiresGuest:!0}},{path:"/register",name:"Register",component:ie,meta:{requiresGuest:!0}},{path:"/",name:"Dashboard",component:X,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:fe,meta:{requiresAuth:!0}}]});me.beforeEach((function(e,t,o){var n=e.matched.some((function(e){return e.meta.requiresAuth})),a=e.matched.some((function(e){return e.meta.requiresGuest})),r=p.a.auth().currentUser;n&&!r?o({path:"/login",query:{redirect:e.fullPath}}):a&&r?o({path:"/",query:{redirect:e.fullPath}}):o()}));var ve,he=me,ge=o("5886"),be=(o("4413"),o("f9e3"),o("2dd8"),o("ecee")),we=o("b702"),_e=o("ad3d");be["c"].add(we["b"],we["a"]),n["default"].component("font-awesome-icon",_e["a"]),n["default"].config.productionTip=!1,n["default"].use(v["a"]),n["default"].use(ge["a"]),p.a.initializeApp(m),p.a.analytics(),p.a.auth().onAuthStateChanged((function(){ve||(ve=new n["default"]({router:he,store:g,render:function(e){return e(l)}}).$mount("#app"))}))},"6eac":function(e,t,o){},"826c":function(e,t,o){},"8c43":function(e,t,o){"use strict";var n=o("06c9"),a=o.n(n);a.a},"9c95":function(e,t,o){},d38c:function(e,t,o){"use strict";var n=o("826c"),a=o.n(n);a.a},d3d3:function(e,t,o){"use strict";var n=o("9c95"),a=o.n(n);a.a},f7ad:function(e,t,o){},f86c:function(e,t,o){"use strict";var n=o("2390"),a=o.n(n);a.a}});
//# sourceMappingURL=app.3ab00ff7.js.map