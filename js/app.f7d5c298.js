(function(t){function e(e){for(var n,s,i=e[0],d=e[1],c=e[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,i=1;i<o.length;i++){var d=o[i];0!==a[d]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=d;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0717":function(t,e,o){},"1f54":function(t,e,o){"use strict";var n=o("6eac"),a=o.n(n);a.a},"1fa1":function(t,e,o){},2390:function(t,e,o){},"30e7":function(t,e,o){"use strict";var n=o("0717"),a=o.n(n);a.a},3470:function(t,e,o){"use strict";var n=o("f7ad"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],s={name:"app"},i=s,d=o("2877"),c=Object(d["a"])(i,a,r,!1,null,null,null),l=c.exports,u=o("8aa5"),p=o.n(u),m=(o("e71f"),{apiKey:"AIzaSyBNmX3lACB2w073FvuOIjXNMZzvwlGNCqM",authDomain:"pwa-todo-list-7018d.firebaseapp.com",databaseURL:"https://pwa-todo-list-7018d.firebaseio.com",projectId:"pwa-todo-list-7018d",storageBucket:"pwa-todo-list-7018d.appspot.com",messagingSenderId:"51264892213",appId:"1:51264892213:web:1c520643af69428f91b07c",measurementId:"G-03ZJ0TSNC3"}),f=o("5f5b"),v=(o("7db0"),o("2f62"));n["default"].use(v["a"]);var h=new v["a"].Store({state:{user:{loggedIn:!1,data:null},todos:[],newTodo:"",isEditing:!1,selectedTodo:{}},mutations:{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e},ADD_TODO:function(t){console.log("add"),t.isEditing?(t.selectedTodo.title=t.newTodo,p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).collection("todos").doc(t.selectedTodo.id).update({title:t.newTodo}),t.newTodo="",t.isEditing=!1):(p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).collection("todos").add({title:t.newTodo,createdAt:new Date,isCompleted:!1}),t.newTodo="",t.isEditing=!1)},updateTodos:function(t,e){t.newTodo=e},DEL_TODO:function(t,e){p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).collection("todos").doc(e).delete()},EDIT_TODO:function(t,e){var o=t.todos.find((function(t){return t.title==e.title}));t.selectedTodo=o,t.newTodo=t.selectedTodo.title,t.isEditing=!0}},actions:{fetchUser:function(t,e){var o=t.commit;o("SET_LOGGED_IN",null!==e),o("SET_USER",e?{displayName:e.displayName,email:e.email}:null)},addTodo:function(t){var e=t.commit;e("ADD_TODO")},delTodo:function(t,e){var o=t.commit;o("DEL_TODO",e)},editTodo:function(t,e){var o=t.commit;o("EDIT_TODO",e)}},modules:{},getters:{user:function(t){return t.user}}}),g=o("8c4f"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app"},[o("Header"),o("div",{staticClass:"dashboard"},[o("div",{staticClass:"title"},[t._v("YOUR LIST")]),o("AddForm",{attrs:{todos:t.todos}}),o("TodoList",{attrs:{todos:t.todos}})],1)],1)},w=[],_=(o("159b"),o("96cf"),o("1da1")),T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"header"},[o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[o("b-navbar-brand",{attrs:{href:"#"}},[t._v("PWA TODO LIST")]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-navbar-nav",{attrs:{right:""}},[t.isLoggedIn?o("span",{staticStyle:{color:"wheat",margin:"8px 20px"}},[t._v(t._s(t.currentUser))]):t._e(),t.isLoggedIn?o("b-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Dashboard")]):t._e(),t.isLoggedIn?o("b-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("About")]):t._e(),t.isLoggedIn?t._e():o("b-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")]),t.isLoggedIn?t._e():o("b-link",{staticClass:"nav-link",attrs:{to:"/register"}},[t._v("Register")]),t.isLoggedIn?o("button",{staticClass:"btn btn-secondary",on:{click:t.signOut}},[t._v("Signout")]):t._e()],1)],1)],1)],1)],1)])},y=[],O=(o("ac1f"),o("5319"),{name:"Header",data:function(){return{isLoggedIn:!1,currentUser:!1}},created:function(){p.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=p.a.auth().currentUser.email)},methods:{signOut:function(){var t=this;p.a.auth().signOut().then((function(e){console.log("signOut data",e),t.$router.replace({name:"Login"})}))}}}),C=O,E=Object(d["a"])(C,T,y,!1,null,null,null),x=E.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.todos.length?t._e():o("h6",{staticClass:"text-center mt-3 no-todo"},[t._v("You don't have any todo saved!")]),t._l(t.todos,(function(t){return o("div",{key:t.id},[o("TodoItem",{attrs:{todo:t}})],1)}))],2)},D=[],I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mb-3 mt-3 todo-card"},[o("div",[o("div",{staticClass:"todo"},[t._v(t._s(t.todo.title))])]),o("div",[o("font-awesome-icon",{staticClass:"icons",attrs:{title:"Edit",icon:["far","edit"]},on:{click:function(e){return t.$store.dispatch("editTodo",t.todo)}}}),o("font-awesome-icon",{staticClass:"icons",attrs:{title:"Delete",icon:["far","trash-alt"]},on:{click:function(e){return t.deleteTodo(t.todo.id)}}})],1)])},$=[],k={name:"TodoItem",props:["todo"],methods:{markComplete:function(){this.todo.completed=!this.todo.completed},deleteTodo:function(t){var e=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){o.value&&(e.$store.dispatch("delTodo",t),e.$swal.fire("Deleted!","Your todo has been deleted.","success"))}))}}},S=k,j=(o("1f54"),Object(d["a"])(S,I,$,!1,null,"123bc9f6",null)),A=j.exports,P={name:"TodoList",props:["todos"],components:{TodoItem:A}},U=P,N=(o("30e7"),Object(d["a"])(U,L,D,!1,null,"42a963d9",null)),q=N.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",[t.show?o("b-form",{staticClass:"justify-content-center",attrs:{inline:""},on:{submit:function(e){return e.preventDefault(),t.$store.dispatch("addTodo")}}},[o("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{type:"text",name:"newTodo",id:"inline-form-input-name",placeholder:"Prioritize your day!"},model:{value:t.newTodo,callback:function(e){t.newTodo=e},expression:"newTodo"}}),t.appMode?o("b-button",{staticClass:"add-btn",attrs:{variant:"primary",disabled:t.newTodo.trim().length<=0},on:{click:function(e){return t.$store.dispatch("addTodo")}}},[t._v("Edit")]):o("b-button",{staticClass:"add-btn",attrs:{variant:"primary",disabled:t.newTodo.trim().length<=0},on:{click:function(e){return t.$store.dispatch("addTodo")}}},[t._v("Add")])],1):t._e()],1)])},H=[],R={name:"AddForm",props:["todos"],data:function(){return{show:!0}},computed:{appMode:function(){return this.$store.state.isEditing},newTodo:{get:function(){return this.$store.state.newTodo},set:function(t){this.$store.commit("updateTodos",t)}}}},M=R,B=(o("7691"),Object(d["a"])(M,G,H,!1,null,"20717550",null)),Y=B.exports,z={name:"Dashboard",components:{Header:x,AddForm:Y,TodoList:q},computed:{todos:function(){return this.$store.state.todos}},methods:{getTodos:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var o,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.a.firestore().collection("users").doc(e).collection("todos");case 2:o=t.sent,o.onSnapshot((function(t){n.$store.state.todos=[],t.forEach((function(t){var e={id:t.id,title:t.data().title,isCompleted:t.data().isCompleted};n.$store.state.todos.push(e)}))}));case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getTodos(p.a.auth().currentUser.uid)}},F=z,J=(o("3470"),Object(d["a"])(F,b,w,!1,null,"cede6306",null)),W=J.exports,X=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Header"),o("div",{staticClass:"login-page"},[o("div",{staticClass:"form"},[o("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.showLoading?t._e():o("button",[t._v("login")]),t.showLoading?o("div",{staticClass:"spinner"},[o("b-spinner",{attrs:{variant:"light",label:"Spinning"}})],1):t._e(),o("p",{staticClass:"message"},[t._v(" Not registered? "),o("router-link",{attrs:{to:"/register"}},[t._v("Create an account")])],1)])])])],1)},Z=[],K={name:"Login",components:{Header:x},data:function(){return{email:"",password:"",err:"",showLoading:!1}},methods:{login:function(){var t=this;this.showLoading=!0,p.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(){t.$router.replace({name:"Dashboard"})}),(function(e){t.showLoading=!1,alert(e.message)}))}}},Q=K,V=(o("d3d3"),Object(d["a"])(Q,X,Z,!1,null,"4d8e4d79",null)),tt=V.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Header"),o("div",{staticClass:"register-page"},[o("div",{staticClass:"form"},[o("form",{staticClass:"register-form",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"email address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.showLoading?t._e():o("button",[t._v("create")]),t.showLoading?o("div",{staticClass:"spinner"},[o("b-spinner",{attrs:{variant:"light",label:"Spinning"}})],1):t._e(),o("p",{staticClass:"message"},[t._v(" Already registered? "),o("router-link",{attrs:{to:"/login"}},[t._v("Sign In")])],1)])])])],1)},ot=[],nt={name:"Register",components:{Header:x},data:function(){return{name:"",email:"",password:"",showLoading:!1}},methods:{register:function(){var t=this;this.showLoading=!0,p.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(){t.$router.replace({name:"Dashboard"})}),(function(e){t.showLoading=!1,alert(e.message),console.log("error",e.message)}))}}},at=nt,rt=(o("f86c"),Object(d["a"])(at,et,ot,!1,null,"2746631d",null)),st=rt.exports,it=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Header"),o("h1",[t._v("This is about page")])],1)},dt=[],ct={name:"About",components:{Header:x}},lt=ct,ut=Object(d["a"])(lt,it,dt,!1,null,null,null),pt=ut.exports;n["default"].use(g["a"]);var mt=new g["a"]({mode:"history",base:"/",routes:[{path:"/login",name:"Login",component:tt,meta:{requiresGuest:!0}},{path:"/register",name:"Register",component:st,meta:{requiresGuest:!0}},{path:"/",name:"Dashboard",component:W,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:pt,meta:{requiresAuth:!0}}]});mt.beforeEach((function(t,e,o){var n=t.matched.some((function(t){return t.meta.requiresAuth})),a=t.matched.some((function(t){return t.meta.requiresGuest})),r=p.a.auth().currentUser;n&&!r?o({path:"/login",query:{redirect:t.fullPath}}):a&&r?o({path:"/",query:{redirect:t.fullPath}}):o()}));var ft,vt=mt,ht=o("5886"),gt=(o("4413"),o("f9e3"),o("2dd8"),o("ecee")),bt=o("b702"),wt=o("ad3d");gt["c"].add(bt["b"],bt["a"]),n["default"].component("font-awesome-icon",wt["a"]),n["default"].config.productionTip=!1,n["default"].use(f["a"]),n["default"].use(ht["a"]),p.a.initializeApp(m),p.a.analytics(),p.a.auth().onAuthStateChanged((function(){ft||(ft=new n["default"]({router:vt,store:h,render:function(t){return t(l)}}).$mount("#app"))}))},"6eac":function(t,e,o){},7691:function(t,e,o){"use strict";var n=o("1fa1"),a=o.n(n);a.a},"9c95":function(t,e,o){},d3d3:function(t,e,o){"use strict";var n=o("9c95"),a=o.n(n);a.a},f7ad:function(t,e,o){},f86c:function(t,e,o){"use strict";var n=o("2390"),a=o.n(n);a.a}});
//# sourceMappingURL=app.f7d5c298.js.map